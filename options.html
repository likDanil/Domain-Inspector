<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Äî Domain Inspector</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="wrap">
    <div class="header">
      <div class="title">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã</div>
      <div style="display: flex; align-items: center; gap: 12px;">
        <button id="themeToggle" class="theme-toggle" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">üåô</button>
      <div class="save-state" id="saveState">–ò–∑–º–µ–Ω–µ–Ω–∏–π –Ω–µ—Ç</div>
      </div>
    </div>

            <div class="layout layout-2col">
      <aside class="sidebar left">
        <div class="card section" id="profilesSection">
          <h3>–ü—Ä–æ—Ñ–∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫</h3>
          <div class="grid">
            <div class="opt" style="flex-direction:column; gap:6px;">
              <label for="profileSelect">–¢–µ–∫—É—â–∏–π –ø—Ä–æ—Ñ–∏–ª—å</label>
              <div class="row" style="width:100%">
                <select id="profileSelect" class="input" style="flex:1; min-width:220px;"></select>
                <button class="btn" id="profileAddBtn" title="–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å">–ù–æ–≤—ã–π</button>
                <button class="btn" id="profileRenameBtn" title="–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å">–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å</button>
                <button class="btn" id="profileDeleteBtn" title="–£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å">–£–¥–∞–ª–∏—Ç—å</button>
              </div>
              <small class="muted">–ü—Ä–æ—Ñ–∏–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–ø—Ä–∞–≤–∞ –∏ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º —Å–∂–∞—Ç–∏—è/—Ñ–æ—Ä–º–∞—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.</small>
            </div>
          </div>

          <div class="section">
            <h3>–ò–º–ø–æ—Ä—Ç –∏ —ç–∫—Å–ø–æ—Ä—Ç</h3>
            <div class="grid">
              <div class="opt" style="flex-direction:column; gap:6px;">
                <label for="exportLink">–°—Å—ã–ª–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è (base64)</label>
                <input id="exportLink" class="input" type="text" readonly placeholder="–ù–∞–∂–º–∏—Ç–µ ¬´–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å¬ª">
                <div class="row">
                  <button class="btn" id="exportBtn">–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                  <button class="btn" id="copyExportBtn">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</button>
                  <button class="btn" id="importBtn">–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ —Å—Å—ã–ª–∫–∏</button>
                </div>
                <small class="muted">–ú–æ–∂–Ω–æ –¥–µ–ª–∏—Ç—å—Å—è —Å—Ç—Ä–æ–∫–æ–π base64 –∏–ª–∏ —Å—Å—ã–ª–∫–æ–π –≤–∏–¥–∞ <code>options.html#import=...</code>. –ò–º–ø–æ—Ä—Ç –¥–æ–±–∞–≤–∏—Ç –Ω–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å.</small>
              </div>
            </div>
          </div>
        </div>

        <div class="card section" id="keenSection">
          <h3>KeenDNS/CrazeDNS ‚Äî —Ä–æ—É—Ç–µ—Ä—ã</h3>
          <div class="muted">–î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —ç—Ç–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ (storage.local). –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–æ–±–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ CLI —á–µ—Ä–µ–∑ RCI.</div>

          <div class="grid" style="margin-top:8px;">
            <div class="opt" style="flex-direction:column; gap:6px;">
              <label for="keenName">–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä–∞</label>
              <input id="keenName" class="input" type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –î–æ–º–∞—à–Ω–∏–π —Ä–æ—É—Ç–µ—Ä">
              <small class="muted">–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏</small>
            </div>
            <div class="opt" style="flex-direction:column; gap:6px;">
              <label for="keenUrl">–ê–¥—Ä–µ—Å (–¥–æ–º–µ–Ω / IP)</label>
              <input id="keenUrl" class="input" type="text" placeholder="https://home.netcraze.pro">
              <small class="muted">–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è HTTPS. –ù–∞–ø—Ä–∏–º–µ—Ä: <code>https://home.keenetic.link</code></small>
            </div>
            <div class="opt" style="flex-direction:column; gap:6px;">
              <label for="keenUser">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</label>
              <input id="keenUser" class="input" type="text" placeholder="Admin">
            </div>
            <div class="opt" style="flex-direction:column; gap:6px;">
              <label for="keenPass">–ü–∞—Ä–æ–ª—å</label>
              <div style="position:relative;">
                <input id="keenPass" class="input" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" style="padding-right:40px;">
                <button type="button" id="keenPassToggle" class="password-toggle" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–æ–ª—å" title="–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–æ–ª—å">
                  <svg class="eye-open" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10 4C6 4 2.73 6.11 1 9.5C2.73 12.89 6 15 10 15C14 15 17.27 12.89 19 9.5C17.27 6.11 14 4 10 4ZM10 12.5C8.07 12.5 6.5 10.93 6.5 9C6.5 7.07 8.07 5.5 10 5.5C11.93 5.5 13.5 7.07 13.5 9C13.5 10.93 11.93 12.5 10 12.5ZM10 7C8.62 7 7.5 8.12 7.5 9.5C7.5 10.88 8.62 12 10 12C11.38 12 12.5 10.88 12.5 9.5C12.5 8.12 11.38 7 10 7Z" fill="currentColor"/>
                  </svg>
                  <svg class="eye-closed" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" style="display:none;">
                    <path d="M3.28 2.22L2.22 3.28L6.5 7.56L6.5 9.5C6.5 10.88 7.62 12 9 12L10.44 10.56L16.72 16.84L17.78 15.78L3.28 2.22ZM10 4C6 4 2.73 6.11 1 9.5C2.73 12.89 6 15 10 15C11.5 15 12.89 14.62 14.11 14L12.39 12.28C11.5 12.62 10.78 12.5 10 12.5C8.07 12.5 6.5 10.93 6.5 9C6.5 8.22 6.72 7.5 7.06 6.61L4.89 4.44C6.23 4.16 7.58 4 9 4H10Z" fill="currentColor"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
          <div class="row">
            <button class="btn" id="keenAddBtn">–î–æ–±–∞–≤–∏—Ç—å —Ä–æ—É—Ç–µ—Ä</button>
            <button class="btn" id="keenCancelBtn" style="display:none;">–û—Ç–º–µ–Ω–∞</button>
            <span class="save-state" id="keenAddState">‚Äî</span>
          </div>

          <div class="k-list" id="keenList"></div>
        </div>
      </aside>

      <main class="main right">
        <div class="card section" id="defaultSettingsSection">
          <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</h3>
          <div class="grid">
            <div class="opt" style="flex-direction:column; gap:6px;">
              <label for="defaultCollapseMode">–†–µ–∂–∏–º —Å–∂–∞—Ç–∏—è</label>
              <select id="defaultCollapseMode" class="input">
                <option value="all">–°–∂–∞—Ç–∏–µ –≤—Å–µ—Ö —Å—É–±–¥–æ–º–µ–Ω–æ–≤</option>
                <option value="auto">–°–∂–∞—Ç–∏–µ —Å—É–±–¥–æ–º–µ–Ω–æ–≤ (2+‚Üí–±–∞–∑–∞)</option>
                <option value="none">–ë–µ–∑ —Å–∂–∞—Ç–∏—è</option>
              </select>
              <small class="muted">–≠—Ç–æ—Ç —Ä–µ–∂–∏–º –±—É–¥–µ—Ç –≤—ã–±—Ä–∞–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –æ–∫–Ω–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (–µ–≥–æ –º–æ–∂–Ω–æ —Å–º–µ–Ω–∏—Ç—å —Ç–∞–º –∂–µ).</small>
            </div>
            <div class="opt" style="flex-direction:column; gap:6px;">
              <label for="defaultFormat">–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞</label>
              <select id="defaultFormat" class="input">
                <option value="keen">KeenDNS ‚Äî –ø–æ —Å—Ç—Ä–æ–∫–∞–º</option>
                <option value="adguard">AdGuard ‚Äî —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—ã–µ</option>
              </select>
              <small class="muted">–≠—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç –±—É–¥–µ—Ç –≤—ã–±—Ä–∞–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –æ–∫–Ω–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (–µ–≥–æ –º–æ–∂–Ω–æ —Å–º–µ–Ω–∏—Ç—å —Ç–∞–º –∂–µ).</small>
            </div>
            <div class="opt" style="flex-direction:column; gap:6px;">
              <label for="defaultDomainFilter">–§–∏–ª—å—Ç—Ä –¥–æ–º–µ–Ω–æ–≤</label>
              <select id="defaultDomainFilter" class="input">
                <option value="all">–í—Å–µ –¥–æ–º–µ–Ω—ã</option>
                <option value="withResponse">–î–æ–º–µ–Ω—ã —Å –æ—Ç–≤–µ—Ç–∞–º–∏</option>
                <option value="withoutResponse">–î–æ–º–µ–Ω—ã –±–µ–∑ –æ—Ç–≤–µ—Ç–æ–≤</option>
              </select>
              <small class="muted">–≠—Ç–æ—Ç —Ñ–∏–ª—å—Ç—Ä –±—É–¥–µ—Ç –≤—ã–±—Ä–∞–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –æ–∫–Ω–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (–µ–≥–æ –º–æ–∂–Ω–æ —Å–º–µ–Ω–∏—Ç—å —Ç–∞–º –∂–µ).</small>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="section">
            <h3 class="method-header">–ú–µ—Ç–æ–¥ 1 ‚Äî —Å–µ—Ç–µ–≤—ã–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã<span class="method-info-btn" data-method="m1">i</span></h3>
            <div class="grid">
              <div class="opt"><input id="enableFetch" type="checkbox"><label for="enableFetch">Fetch</label></div>
              <div class="opt"><input id="enableXHR" type="checkbox"><label for="enableXHR">XMLHttpRequest</label></div>
              <div class="opt"><input id="enableBeacon" type="checkbox"><label for="enableBeacon">navigator.sendBeacon</label></div>
              <div class="opt"><input id="enableWebSocket" type="checkbox"><label for="enableWebSocket">WebSocket</label></div>
              <div class="opt"><input id="enableEventSource" type="checkbox"><label for="enableEventSource">EventSource (SSE)</label></div>
              <div class="opt"><input id="enableWorker" type="checkbox"><label for="enableWorker">Worker</label></div>
              <div class="opt"><input id="enableSharedWorker" type="checkbox"><label for="enableSharedWorker">SharedWorker</label></div>
              <div class="opt"><input id="enableWebRTC" type="checkbox"><label for="enableWebRTC">WebRTC (ICE: STUN/TURN)</label></div>
            </div>
            <div class="row">
              <button class="btn" data-group="m1" data-mode="all">–í–∫–ª—é—á–∏—Ç—å –≤—Å–µ</button>
              <button class="btn" data-group="m1" data-mode="none">–í—ã–∫–ª—é—á–∏—Ç—å –≤—Å–µ</button>
            </div>
          </div>

          <div class="section">
            <h3 class="method-header">–ú–µ—Ç–æ–¥ 2 ‚Äî –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ<span class="method-info-btn" data-method="m2">i</span></h3>
            <div class="grid">
              <div class="opt"><input id="enablePOResource" type="checkbox"><label for="enablePOResource">PerformanceObserver (resource)</label></div>
              <div class="opt"><input id="enableCSPViolation" type="checkbox"><label for="enableCSPViolation">–°–æ–±—ã—Ç–∏—è CSP (securitypolicyviolation)</label></div>
            </div>
            <div class="row">
              <button class="btn" data-group="m2" data-mode="all">–í–∫–ª—é—á–∏—Ç—å –≤—Å–µ</button>
              <button class="btn" data-group="m2" data-mode="none">–í—ã–∫–ª—é—á–∏—Ç—å –≤—Å–µ</button>
              <span class="save-state" style="margin-left:6px;">–ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ –Ω–æ–≤—ã–º –≤–∫–ª–∞–¥–∫–∞–º</span>
            </div>
          </div>

          <div class="section">
            <h3 class="method-header">–ú–µ—Ç–æ–¥ 3 ‚Äî –∞–Ω–∞–ª–∏–∑ DOM –∏ —Ä–µ—Å—É—Ä—Å–æ–≤<span class="method-info-btn" data-method="m3">i</span></h3>
            <div class="grid">
              <div class="opt"><input id="enableServiceWorker" type="checkbox"><label for="enableServiceWorker">Service Worker</label></div>
              <div class="opt"><input id="enableHTMLElements" type="checkbox"><label for="enableHTMLElements">HTML —ç–ª–µ–º–µ–Ω—Ç—ã (src/href)</label></div>
              <div class="opt"><input id="enableDNSPrefetch" type="checkbox"><label for="enableDNSPrefetch">DNS Prefetch/Preconnect</label></div>
              <div class="opt"><input id="enableCSSResources" type="checkbox"><label for="enableCSSResources">CSS —Ä–µ—Å—É—Ä—Å—ã (url/@import)</label></div>
              <div class="opt"><input id="enableManifest" type="checkbox"><label for="enableManifest">–í–µ–±-–º–∞–Ω–∏—Ñ–µ—Å—Ç (PWA)</label></div>
            </div>
            <div class="row">
              <button class="btn" data-group="m3" data-mode="all">–í–∫–ª—é—á–∏—Ç—å –≤—Å–µ</button>
              <button class="btn" data-group="m3" data-mode="none">–í—ã–∫–ª—é—á–∏—Ç—å –≤—Å–µ</button>
              <span class="save-state" style="margin-left:6px;">–ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ –Ω–æ–≤—ã–º –≤–∫–ª–∞–¥–∫–∞–º</span>
            </div>
          </div>

          <div class="section">
            <div class="grid">
              <div class="bulk-actions" role="group" aria-label="–ì–ª–æ–±–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ" style="grid-column:1/-1;">
                <div class="bulk-text">
                  <div class="bulk-title">–ì–ª–æ–±–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</div>
                  <div class="bulk-sub">–í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—ã—à–µ</div>
                </div>
                <div class="bulk-buttons">
                  <button class="btn" id="btnAllOn">–í–∫–ª—é—á–∏—Ç—å –≤—Å—ë</button>
                  <button class="btn" id="btnAllOff">–í—ã–∫–ª—é—á–∏—Ç—å –≤—Å—ë</button>
                  <button class="btn" id="btnDefaults">–í—ã—Å—Ç–∞–≤–∏—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <div class="footer">
      <div>Domain Inspector ‚Ä¢ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</div>
      <div>–ï—Å–ª–∏ —á—Ç–æ ‚Äî –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É —Å —Å–∞–π—Ç–æ–º.</div>
    </div>
  </div>

  <div id="modalOverlay" class="modal-overlay" style="display: none;">
    <div class="modal">
      <div class="modal-header">
        <h3 id="modalTitle">–ó–∞–≥–æ–ª–æ–≤–æ–∫</h3>
      </div>
      <div class="modal-body">
        <p id="modalMessage">–°–æ–æ–±—â–µ–Ω–∏–µ</p>
        <input type="text" id="modalInput" class="input" style="display: none; margin-top: 12px;" placeholder="">
      </div>
      <div class="modal-footer">
        <button id="modalCancel" class="btn" style="display: none;">–û—Ç–º–µ–Ω–∞</button>
        <button id="modalOk" class="btn">OK</button>
      </div>
    </div>
  </div>

  <script src="options.js"></script>
</body>
</html>
